<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../static/img/logo.png">
    <link rel="stylesheet" type="text/css" href="../static/style/main-style.css">
    <link rel="stylesheet" type="text/css" href="../static/style/reg-auto.css">
    <link rel="stylesheet" type="text/css" href="../static/style/settings_user.css">
    <title>Настройки пользователя</title>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo"><a href="/index"><img src="../static/img/logo.png" alt="logo"></a></div>
            <nav>
                <ul>
                    <li><a href="/index">Главная</a></li>
                    <li><a href="/settings_user">Настройки</a></li>
                    <li><a href="/index">Контакты</a></li>
                    <li><a href="/index">О нас</a></li>
                </ul>
            </nav>
        </div>
        <div class="user-container">
            <div id="id-column">
                {{ if .Success }}
                <a href="/settings_user"><div class="user-png">{{ if .Img }}<img src="../static/img/profile_img/{{ .Login }}.jpg" alt="user">{{ else }}<img src="../static/img/profile_img/user.jpg" alt="user">{{ end }}</div>
                <div class="name-user">{{ .Login }}</div></a>
                {{ else }}
                <a href="/registration"><div class="user-png"><img src="../static/img/profile_img/user.jpg" alt="user"></div>
                <div class="name-user">Unnamed</div></a>
                {{ end }}
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            {{ if .Success }}
            <div class="block-form">
                <form method="POST" action="/update_user">
                    <label for="login">Изменить логин</label>
                    <input type="text" name="login" id="login" placeholder="login" value="{{ .Login }}">
                    {{ if .ErrorLogin }}
                    <div>Такой логин уже занят, попробуйте другой</div>
                    {{ end }}
                    <label>Изменить пароль</label>
                    <div class="pas-block">
                        <input type="password" name="password_old" id="password1" placeholder="Старый пароль" class="password">
                        <button type="button" onClick="swap('img_eye1')" id="eye1" class="eye"><img src="../static/img/eye_close.png" id="img_eye1" alt="eye"/></button>
                    </div>
                    <div class="pas-block">
                        <input type="password" name="password_new" id="password2" placeholder="Новый пароль" class="password">
                        <button type="button" onClick="swap('img_eye2')" id="eye2" class="eye"><img src="../static/img/eye_close.png" id="img_eye2" alt="eye"/></button>
                    </div>
                    {{ if .ErrorPassword }}
                    <div id="uncorrect-password">Неверно введён пароль</div>
                    {{ end }}
                    <label for="email">Изменить почту</label>
                    <input type="email" name="email" id="email" placeholder="email" value="{{ .Email }}">
                    <div class="btn-acc-center"><a id="settings-img" href="/settings_img">Поменять аватарку</a></div>
                    <input type="submit" href="/update_user" value="Сохранить">
                </form>
            </div>
            <div class="btn-acc-center"><a id="exit-acc" href="/exit_acc">Выйти из аккаунта</a></div>
            {{ else }}
            <div>Ошибка авторизации.&nbsp<a href="/authorization">Нажмите</a>, чтобы войти в аккаут.
            {{ end }}
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="contact">
                <p>Created by <a href="https://t.me/kreipikc">Kirill Basmanov</a></p>
            </div>
        </div>
    </footer>

    
    <script type="text/javascript" src="../static/script/showPassword.js"></script>
    <script type="text/javascript" src="../static/script/swap.js"></script>
</body>
</html>